import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};


  export const chatSession = model.startChat({
    generationConfig,
    history: [
      {
        role: "user",
        parts: [
          {text: "Generate Travel plan for Location : Las Vegas, for 3 days for Couple with a Cheap budget, Give me hotels options list with HotelName, Hotel address, Price, hotel image url,  geo coordinates, rating, descriptions and suggest itinerary with place name, place details ,Place Image URL, Geo Coordinates ,ticket pricing,rating  , geo coordinates Time travel each of the location  for 3 days with each day plan with best time to visit in JSON format.\n\n"},
        ],
      },
      {
        role: "model",
        parts: [
          {text: "```json\n{\n  \"trip\": {\n    \"destination\": \"Las Vegas\",\n    \"duration\": \"3 days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\",\n    \"hotels\": [\n      {\n        \"name\": \"The D Las Vegas\",\n        \"address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n        \"price\": \"From $40/night\",\n        \"imageUrl\": \"https://www.the-d.com/media/wysiwyg/hero-images/hero-image-the-d-exterior-front-day.jpg\",\n        \"geoCoordinates\": \"36.1689, -115.1422\",\n        \"rating\": \"4.0 stars\",\n        \"description\": \"A budget-friendly hotel located in the heart of Fremont Street Experience with a casino, restaurants, and a rooftop pool.\"\n      },\n      {\n        \"name\": \"The Golden Nugget\",\n        \"address\": \"129 E Fremont Street, Las Vegas, NV 89101\",\n        \"price\": \"From $50/night\",\n        \"imageUrl\": \"https://www.goldennugget.com/wp-content/uploads/2018/05/GN_Hero_Mobile_03.jpg\",\n        \"geoCoordinates\": \"36.1695, -115.1433\",\n        \"rating\": \"4.5 stars\",\n        \"description\": \"A historic hotel with a lively atmosphere, featuring a casino, restaurants, an aquarium, and a pool.\"\n      },\n      {\n        \"name\": \"Circus Circus Hotel & Casino\",\n        \"address\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n        \"price\": \"From $30/night\",\n        \"imageUrl\": \"https://www.circuscircus.com/media/wysiwyg/hero-images/circus-circus-hero-image-mobile.jpg\",\n        \"geoCoordinates\": \"36.1254, -115.1684\",\n        \"rating\": \"3.5 stars\",\n        \"description\": \"A family-friendly hotel with a circus theme, featuring a casino, amusement park, and a pool.\"\n      },\n      {\n        \"name\": \"The Strat Hotel, Casino & SkyPod\",\n        \"address\": \"2000 Las Vegas Blvd S, Las Vegas, NV 89104\",\n        \"price\": \"From $45/night\",\n        \"imageUrl\": \"https://www.thestrat.com/wp-content/uploads/2018/05/Hero_Desktop.jpg\",\n        \"geoCoordinates\": \"36.1342, -115.1641\",\n        \"rating\": \"4.0 stars\",\n        \"description\": \"A hotel with an observation deck offering panoramic views of the city, a casino, restaurants, and a pool.\"\n      },\n      {\n        \"name\": \"Excalibur Hotel & Casino\",\n        \"address\": \"3850 Las Vegas Blvd S, Las Vegas, NV 89109\",\n        \"price\": \"From $35/night\",\n        \"imageUrl\": \"https://www.excalibur.com/media/wysiwyg/hero-images/excalibur-hero-image-mobile.jpg\",\n        \"geoCoordinates\": \"36.1048, -115.1709\",\n        \"rating\": \"3.5 stars\",\n        \"description\": \"A themed hotel with a medieval castle design, featuring a casino, restaurants, a pool, and entertainment.\"\n      }\n    ],\n    \"itinerary\": [\n      {\n        \"day\": \"Day 1\",\n        \"activities\": [\n          {\n            \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n            \"name\": \"Fremont Street Experience\",\n            \"details\": \"Explore the vibrant Fremont Street Experience, a pedestrian mall with an overhead canopy featuring light shows and live entertainment.\",\n            \"imageUrl\": \"https://www.vegasexperience.com/images/fremont-street-experience-las-vegas.jpg\",\n            \"geoCoordinates\": \"36.1695, -115.1433\",\n            \"ticketPricing\": \"Free\",\n            \"notes\": \"Consider visiting during the day to experience the light shows in full glory.\"\n          },\n          {\n            \"time\": \"Afternoon (12:00 PM - 3:00 PM)\",\n            \"name\": \"Lunch at a Local Eatery\",\n            \"details\": \"Enjoy a delicious and affordable lunch at one of the many restaurants on Fremont Street.\",\n            \"imageUrl\": \"https://www.vegas.com/media/images/listings/1000/original/124503.jpg\",\n            \"geoCoordinates\": \"36.1695, -115.1433\",\n            \"ticketPricing\": \"Varies\",\n            \"notes\": \"Search for highly-rated, budget-friendly options on Google Maps or Yelp.\"\n          },\n          {\n            \"time\": \"Evening (3:00 PM - 6:00 PM)\",\n            \"name\": \"Explore the Neon Museum\",\n            \"details\": \"Discover the fascinating history of Las Vegas' iconic neon signs at the Neon Museum.\",\n            \"imageUrl\": \"https://www.neonmuseum.org/wp-content/uploads/2018/02/NeonMuseum_Front_Aerial_Drone-1024x768.jpg\",\n            \"geoCoordinates\": \"36.1745, -115.1479\",\n            \"ticketPricing\": \"$25 per person\",\n            \"notes\": \"Book tickets online in advance to secure your spot.\"\n          },\n          {\n            \"time\": \"Night (6:00 PM - 9:00 PM)\",\n            \"name\": \"Dinner at a Casino Buffet\",\n            \"details\": \"Indulge in a satisfying and budget-friendly dinner at a casino buffet.\",\n            \"imageUrl\": \"https://www.thelinq.com/media/wysiwyg/hero-images/linq-buffet-hero-image-mobile.jpg\",\n            \"geoCoordinates\": \"36.1254, -115.1684\",\n            \"ticketPricing\": \"Varies\",\n            \"notes\": \"Check for buffet specials and happy hour deals.\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 2\",\n        \"activities\": [\n          {\n            \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n            \"name\": \"Visit the Bellagio Conservatory & Botanical Garden\",\n            \"details\": \"Admire the stunning floral displays and themed exhibits at the Bellagio Conservatory & Botanical Garden.\",\n            \"imageUrl\": \"https://www.bellagio.com/content/dam/bellagio/images/conservatory/Conservatory-hero.jpg\",\n            \"geoCoordinates\": \"36.1134, -115.1723\",\n            \"ticketPricing\": \"Free\",\n            \"notes\": \"Open daily, 24 hours.\"\n          },\n          {\n            \"time\": \"Afternoon (12:00 PM - 3:00 PM)\",\n            \"name\": \"Stroll the Las Vegas Strip\",\n            \"details\": \"Walk along the iconic Las Vegas Strip, exploring the impressive architecture, vibrant atmosphere, and themed hotels.\",\n            \"imageUrl\": \"https://www.vegas.com/media/images/listings/1000/original/96094.jpg\",\n            \"geoCoordinates\": \"36.1148, -115.1721\",\n            \"ticketPricing\": \"Free\",\n            \"notes\": \"Enjoy free shows and people-watching along the way.\"\n          },\n          {\n            \"time\": \"Evening (3:00 PM - 6:00 PM)\",\n            \"name\": \"Catch a Free Show\",\n            \"details\": \"Witness a spectacular free show, such as the Bellagio Fountains or the Mirage Volcano.\",\n            \"imageUrl\": \"https://www.bellagio.com/content/dam/bellagio/images/fountains/fountain-hero.jpg\",\n            \"geoCoordinates\": \"36.1134, -115.1723\",\n            \"ticketPricing\": \"Free\",\n            \"notes\": \"Check show schedules and times online.\"\n          },\n          {\n            \"time\": \"Night (6:00 PM - 9:00 PM)\",\n            \"name\": \"Dinner at a Casual Restaurant\",\n            \"details\": \"Dine at a budget-friendly and casual restaurant on the Strip or in a nearby area.\",\n            \"imageUrl\": \"https://www.vegas.com/media/images/listings/1000/original/124503.jpg\",\n            \"geoCoordinates\": \"36.1148, -115.1721\",\n            \"ticketPricing\": \"Varies\",\n            \"notes\": \"Look for happy hour deals and special offers.\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 3\",\n        \"activities\": [\n          {\n            \"time\": \"Morning (9:00 AM - 12:00 PM)\",\n            \"name\": \"Visit the High Roller Observation Wheel\",\n            \"details\": \"Enjoy panoramic views of Las Vegas from the world's tallest observation wheel.\",\n            \"imageUrl\": \"https://www.caesars.com/content/dam/caesars/us/linq/experiences/high-roller/high-roller-hero.jpg\",\n            \"geoCoordinates\": \"36.1258, -115.1721\",\n            \"ticketPricing\": \"From $25 per person\",\n            \"notes\": \"Book tickets online in advance to secure your spot.\"\n          },\n          {\n            \"time\": \"Afternoon (12:00 PM - 3:00 PM)\",\n            \"name\": \"Explore the LINQ Promenade\",\n            \"details\": \"Stroll through the LINQ Promenade, an outdoor shopping and dining destination.\",\n            \"imageUrl\": \"https://www.thelinq.com/content/dam/thelinq/images/promenade/Promenade-Hero.jpg\",\n            \"geoCoordinates\": \"36.1258, -115.1721\",\n            \"ticketPricing\": \"Free\",\n            \"notes\": \"Enjoy people-watching, shopping, and dining.\"\n          },\n          {\n            \"time\": \"Evening (3:00 PM - 6:00 PM)\",\n            \"name\": \"Visit the Mob Museum\",\n            \"details\": \"Learn about the history of organized crime in Las Vegas at the Mob Museum.\",\n            \"imageUrl\": \"https://www.themobmuseum.org/media/images/mob-museum-hero.jpg\",\n            \"geoCoordinates\": \"36.1698, -115.1431\",\n            \"ticketPricing\": \"From $25 per person\",\n            \"notes\": \"Book tickets online in advance to secure your spot.\"\n          },\n          {\n            \"time\": \"Night (6:00 PM - 9:00 PM)\",\n            \"name\": \"Farewell Dinner\",\n            \"details\": \"Enjoy a final dinner at a restaurant of your choice.\",\n            \"imageUrl\": \"https://www.vegas.com/media/images/listings/1000/original/124503.jpg\",\n            \"geoCoordinates\": \"36.1148, -115.1721\",\n            \"ticketPricing\": \"Varies\",\n            \"notes\": \"Consider a casual dining experience to cap off your trip.\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n**Explanation:**\n\n* **Trip Information:** The JSON structure starts with basic trip information: destination, duration, travelers, and budget.\n* **Hotel Options:** A list of budget-friendly hotel options in Las Vegas is provided, including name, address, price, image URL, geo coordinates, rating, and a short description.\n* **Itinerary:**  A 3-day itinerary is suggested, with each day broken down into activities.\n* **Activity Details:** Each activity includes the time of day, name, a detailed description, image URL, geo coordinates, ticket pricing (if applicable), and any relevant notes.\n\n**Using this JSON:**\n\n* **Hotels:** You can directly access the hotel information for a specific hotel, like `hotels[0].name` to get \"The D Las Vegas\".\n* **Itinerary:** You can explore the day-wise activities, like `itinerary[1].activities[2].name` to access \"Catch a Free Show\" on Day 2. \n* **Activity Details:** You can drill down into the details of each activity, like `itinerary[2].activities[0].geoCoordinates` to find the coordinates of the High Roller Observation Wheel.\n\nThis JSON provides a comprehensive and structured way to plan your Las Vegas trip while staying within a cheap budget. \n"},
        ],
      },
    ],
  });



